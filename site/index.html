<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>beanstalk | infra for indies</title>
  <meta name="description" content="Git-based admin + pods (HTML/CSS/JS only). Cloud optional, self-host friendly." />
  <style>
  :root{
    --bg:#f7f9fc;              /* page background */
    --fg:#0f172a;              /* primary text (slate-900) */
    --muted:#475569;           /* secondary text (slate-600) */
    --brand:#16a34a;           /* primary brand (green-600) */
    --brand-ink:#ffffff;       /* on-brand text */
    --card:rgba(255,255,255,.68); /* glass panel */
    --border:rgba(15,23,42,.08);  /* subtle border */
    --radius:16px; --gap:14px; --pad:18px 20px; --max:960px;
  }
  *{box-sizing:border-box}
  html, body { height: 100%; }
  body{
    margin:0;color:var(--fg);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
    background:
      radial-gradient(1200px 600px at 10% -10%, rgba(22,163,74,.10), transparent 40%),
      radial-gradient(900px 500px at 110% -10%, rgba(34,197,94,.08), transparent 35%),
      var(--bg);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header{max-width:var(--max);margin:0 auto;padding:20px;}
  nav{display:flex;align-items:center;justify-content:space-between;gap:var(--gap)}
  .logo{font-weight:800;letter-spacing:.2px}
  .links a{color:var(--muted);text-decoration:none;margin-left:14px}
  .links a:hover,.links a:focus-visible{color:var(--fg);outline:none}
  .links a[aria-disabled="true"]{opacity:.7;cursor:not-allowed}

  main{max-width:var(--max);margin:32px auto;padding:0 20px;flex:1 0 auto}
  .glass{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    backdrop-filter:saturate(180%) blur(12px);
    -webkit-backdrop-filter:saturate(180%) blur(12px); /* Safari */
    box-shadow:0 8px 30px rgba(2,6,23,.06);
  }
  .hero{display:grid;gap:20px;padding:28px}
  .hero h1{margin:0;font-size:clamp(28px,4vw,40px);line-height:1.15}
  .muted{color:var(--muted)}

  .row{display:flex;flex-wrap:wrap;gap:12px}
  .btn{
    display:inline-block;padding:var(--pad);border-radius:12px;text-decoration:none;
    border:1px solid var(--border);background:#fff;color:var(--fg);font-weight:600
  }
  .btn.primary{background:var(--brand);border-color:transparent;color:var(--brand-ink)}
  .btn:focus-visible{outline:3px solid color-mix(in oklab, var(--brand) 35%, white);outline-offset:2px}

  .cards{margin-top:8px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
  .card{padding:16px}
  footer{max-width:var(--max);margin:40px auto 24px;padding:0 20px;color:var(--muted);font-size:14px}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
</style>
</head>
<body>
  <a class="sr-only" href="#main">Skip to content</a>

  <header>
    <nav aria-label="Primary">
      <div class="links">
        <a href="mailto:hello@beanstalk.dev?subject=Beanstalk%20Waitlist">Join waitlist
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="margin-left:6px;vertical-align:middle">
            <path d="M5 12h14"/>
            <path d="m12 5 7 7-7 7"/>
          </svg>
        </a>
      </div>
    </nav>
  </header>

  <main id="main">
    <section class="hero glass" aria-labelledby="h1">
      <h1 id="h1"><div class="logo"><span role="img" aria-label="Beanstalk sprout">ðŸŒ±</span> beanstalk</h1>
      <p class="muted">
        infra for indies. minimal, git-based admin that edits your GitHub repo via proxy. built with only HTML/CSS/JS. cloud optional, self-hostable in one click.
      </p>
      <div class="row">
        <a class="btn primary" href="https://app.netlify.com/start" target="_blank" rel="noopener">deploy to Netlify</a>
        <a class="btn" href="/.netlify/functions/oauth/start">Sign in with GitHub</a>
        <a class="btn" href="#" aria-disabled="true">explore pods (soon)</a>
      </div>

      <div class="cards" aria-label="Highlights">
        <div class="card"><strong>Git-first</strong><br><span class="muted">Content lives in your repo. Commit-to-main by default.</span></div>
        <div class="card"><strong>No frameworks</strong><br><span class="muted">Just HTML, CSS, and vanilla JS. Easy to fork/host.</span></div>
        <div class="card"><strong>Seeds</strong><br><span class="muted">Drop-in script widgets for status badges & more.</span></div>
      </div>
    </section>
    <section class="glass" aria-labelledby="seeds-title" style="margin-top:22px;padding:24px">
      <h2 id="seeds-title" style="margin:0 0 12px;font-size:20px">Seeds</h2>
      <p class="tagline" style="margin:0 0 16px">Dropâ€‘in widgets you can embed anywhere. Click a seed to view the exact code.</p>

      <div class="cards" style="margin-top:10px">
        <!-- Status seed card -->
        <article class="card" id="seed-status" style="display:grid;gap:12px">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
            <div style="font-weight:700">Status badge</div>
            <button class="btn" data-toggle="#status-code">View code</button>
          </div>

          <!-- tiny preview button-like -->
          <button type="button" class="status-badge" aria-label="Status badge preview" style="justify-content:flex-start">
            <span class="status-dot" aria-hidden="true"></span>
            <span><strong>Operational</strong> <span class="mini" style="margin-left:6px">seed preview</span></span>
          </button>

          <!-- collapsible code block -->
          <div id="status-code" class="hide">
            <pre style="margin:8px 0 0;padding:10px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;overflow:auto"><code id="status-snippet">&lt;script src="https://YOUR-BEANSTALK-SITE/seeds/status.js"
  data-beanstalk-owner="OWNER"
  data-beanstalk-repo="REPO"
  data-path="pods/status/content/status.json"
  defer&gt;&lt;/script&gt;
&lt;div id="beanstalk-status"&gt;&lt;/div&gt;</code></pre>
            <div class="row" style="margin-top:8px">
              <button class="btn" data-copy="#status-snippet">Copy</button>
              <a class="btn" href="/admin/status.html">Open Status editor</a>
            </div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <footer>Â© <span id="y"></span> beanstalk | minimal, portable, durable, privacy-first</footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    // Seeds: toggle code and copy
    document.querySelectorAll('[data-toggle]').forEach(btn => {
      btn.addEventListener('click', () => {
        const sel = btn.getAttribute('data-toggle');
        const el = document.querySelector(sel);
        if (!el) return;
        el.classList.toggle('hide');
        btn.textContent = el.classList.contains('hide') ? 'View code' : 'Hide code';
      });
    });

    document.querySelectorAll('[data-copy]').forEach(btn => {
      btn.addEventListener('click', async () => {
        const sel = btn.getAttribute('data-copy');
        const code = document.querySelector(sel);
        if (!code) return;
        const text = code.textContent.replace('https://YOUR-BEANSTALK-SITE', location.origin);
        try {
          await navigator.clipboard.writeText(text);
          const prev = btn.textContent; btn.textContent = 'Copied!';
          setTimeout(() => btn.textContent = prev, 1200);
        } catch {
          // fallback: select + copy
          const r = document.createRange(); r.selectNodeContents(code);
          const selObj = window.getSelection(); selObj.removeAllRanges(); selObj.addRange(r);
          document.execCommand('copy'); selObj.removeAllRanges();
          const prev = btn.textContent; btn.textContent = 'Copied!';
          setTimeout(() => btn.textContent = prev, 1200);
        }
      });
    });
  </script>
</body>
</html>